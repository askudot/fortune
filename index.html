<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fortune Cookie</title>

    <!-- Farcaster Mini Apps SDK -->
    <script src="https://miniapps.farcaster.xyz/sdk/v1"></script>

    <!-- Fallback: panggil ready() sampai tembus -->
    <script>
      (function () {
        function callReady() {
          try {
            if (window.sdk && window.sdk.actions && window.sdk.actions.ready) {
              window.sdk.actions.ready();
              window.sdk.actions.setTitle && window.sdk.actions.setTitle("Fortune Cookie");
              return true;
            }
          } catch (e) {}
          return false;
        }
        if (callReady()) return;                       // coba langsung
        let elapsed = 0;
        const id = setInterval(() => {                 // poll 100ms s/d 6s
          if (callReady() || (elapsed += 100) >= 6000) clearInterval(id);
        }, 100);
        window.addEventListener("load", () => setTimeout(callReady, 0)); // fallback saat load
      })();
    </script>

    <!-- (opsional) embed meta agar kartu "Open" muncul di feed -->
    <meta name="fc:miniapp" content="{&quot;version&quot;:&quot;next&quot;,&quot;imageUrl&quot;:&quot;https://fortune-murex.vercel.app/og.png&quot;,&quot;button&quot;:{&quot;title&quot;:&quot;Open&quot;,&quot;action&quot;:{&quot;type&quot;:&quot;launch_miniapp&quot;,&quot;name&quot;:&quot;Fortune Cookie&quot;,&quot;url&quot;:&quot;https://fortune-murex.vercel.app&quot;,&quot;splashImageUrl&quot;:&quot;https://fortune-murex.vercel.app/fortune.png&quot;,&quot;splashBackgroundColor&quot;:&quot;#fdfcf8&quot;}}}" />
    <meta name="fc:frame"   content="{&quot;version&quot;:&quot;next&quot;,&quot;imageUrl&quot;:&quot;https://fortune-murex.vercel.app/og.png&quot;,&quot;button&quot;:{&quot;title&quot;:&quot;Open&quot;,&quot;action&quot;:{&quot;type&quot;:&quot;launch_miniapp&quot;,&quot;name&quot;:&quot;Fortune Cookie&quot;,&quot;url&quot;:&quot;https://fortune-murex.vercel.app&quot;,&quot;splashImageUrl&quot;:&quot;https://fortune-murex.vercel.app/fortune.png&quot;,&quot;splashBackgroundColor&quot;:&quot;#fdfcf8&quot;}}}" />
  </head>
  <body>
    <div id="root"></div>

    <!-- ⚠️ Ini WAJIB: boot React/Vite -->
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
